<html>

<head>
<title>NodeBox | v1.9.5 crashes on OS X 10.7</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="imagetoolbar" content="no" />
<meta http-equiv="linode" content="true"/>
<meta name="description" content="" />
<meta name="keywords" content="NodeBox, shared 2011-07-03-21-20-05, bug" />
<link rel="alternate" type="application/rss+xml" title="NodeBox News Feed" href="https://nodebox.net/code/data/rss.xml" />
<link rel="canonical" href="https://nodebox.net/code/index.php/shared_2011-07-03-21-20-05" />
<link type="text/css" rel="stylesheet" media="screen" href="../../media/css/nbar.css">

<script type="text/javascript" src="../js/pop.js"></script>
<script type="text/javascript" src="../js/confirm.js"></script>
<link href="../css/default.css" rel="stylesheet" type="text/css" />
<link href="../css/print.css" rel="stylesheet" type="text/css" media="print" />
<!--[if gte IE 5.5]>
<script type="text/javascript" src="/code/js/pngfix.js"></script>
<![endif]-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1668598-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body id="body" >
<div class="nbar">
  <ol>
    <li><a class="node" href="https://www.nodebox.net/code/">NodeBox 1<span class="nbar-arrow"></span></a>
      <ol class="nbar-dropdown">
        <li><a href="https://www.nodebox.net/">Homepage</a></li>
        <li><a href="https://www.nodebox.net/node/">NodeBox 3<small>Node-based app for generative design and data visualization</small></a></li>
        <li><a href="https://www.nodebox.net/opengl/">NodeBox OpenGL<small>Hardware-accelerated cross-platform graphics library</small></a></li>
        <li><a href="https://www.nodebox.net/code/">NodeBox 1<small>Generate 2D visuals using Python code (Mac OS X only)</small></a></li>
      </ol>
    </li>
    <li><a class="gallery" href="https://www.nodebox.net/gallery/">Gallery</a></li>
    <li><a class="documentation" href="Tutorial.html">Documentation</a></li>
    <li><a class="forum" href="http://support.nodebox.net/discussions">Forum</a></li>
    <li><a class="blog" href="https://www.nodebox.net/blog/">Blog</a></li>
  </ol>
</div>


<div id="all">
<div id="header_and_navigation">

<div id="header">
<a href="Home.html"><img id="header_image" src="../g/header-small.jpg" width="800" /></a></div>

<div id="title">
<a href="Home.html"><h1>NodeBox</h1>
<strong><em>Create visual output with Python programming code</em></strong>
</a></div>

<div id="contextual">
<div id="languages">
 
</div>

<div id="search">
<form id = "sf" method="get">
<input type="text" id="q" name="q" value="" />
<a href="javascript:document.getElementById('sf').submit();">GO</a>
</form>
</div>

</div>

<div id="navigation">
<div id="navigation_public">
<a id="" href="Home.html">Home</a> 
<a id="" href="Download.html">Download</a> 
<a id="" href="Reference.html">Reference</a> 
<a id="" href="Tutorial.html">Tutorial</a> 
<a id="" href="Library.html">Library</a> 
<a id="" href="Gallery.html">Gallery</a> 
<a id="" href="Share.html">Share</a> 
<a id="" href="About.html">About</a> 
</div>
</div>
 
</div>

<div id="content">

<div id="nodebox-link">
<a href="Home.html"><img src="../g/transparent.gif" /></a>
</div>

<div class="inside">
<? if (do_name() != 'Home') : ?>
 <? endif ?>
<br /><div class="comment"><h1 id="shared-title">v1.9.5 crashes on OS X 10.7</h1> <b>Posted by <span class="comment_by">Jens Alfke</span> on <i class="date">Jul 03, 2011</i></b> <p>Sad to report that NodeBox 1.9.5 appears to be unusable on Mac OS X 10.7 "Lion". The app launches and can open files, but as soon as I try to run a script, it crashes: <br /> <br /> <br />Crashed Thread:  0  Dispatch queue: com.apple.main-thread <br /> <br />Exception Type:  EXC_BAD_ACCESS (SIGSEGV) <br />Exception Codes: KERN_INVALID_ADDRESS at 0x00000000310cc4a3 <br /> <br />VM Regions Near 0x310cc4a3: <br />    mapped file            000000000694d000-0000000006e37000 [ 5032K] r--/r-x SM=ALI  /usr/share/langid/langid.inv <br />-->  <br />    __TEXT                 000000008fe89000-000000008febc000 [  204K] r-x/rwx SM=COW  /usr/lib/dyld <br /> <br />Application Specific Information: <br />objc_msgSend() selector name: self <br />objc[553]: garbage collection is OFF <br />Performing @selector(runScript:) from sender NSMenuItem 0x63cbf0 <br /> <br />Thread 0 Crashed:: Dispatch queue: com.apple.main-thread <br />0   libobjc.A.dylib               	0x90578d47 objc_msgSend + 23 <br />1   _objc.so                      	0x007af5aa pythonify_c_value + 1274 <br />2   _objc.so                      	0x007a0af1 PyObjCFFI_CountArguments + 802 <br />3   _objc.so                      	0x00796dbc ffi_prep_cif_machdep + 336 <br />4   com.apple.CoreFoundation      	0x92a96901 -[NSObject performSelector:withObject:] + 65 <br />5   com.apple.AppKit              	0x95f31937 -[NSApplication sendAction:to:from:] + 232 <br />6   com.apple.AppKit              	0x960251a3 -[NSMenuItem _corePerformAction] + 536 </p><br /></div>  <hr /><div class="comment"><b>Posted by <span class="comment_by">malcolmp</span> on <i class="date">Jul 12, 2011</i></b><p>What terrible news! Is there any chance of a fix to Nodebox 1 to run on OS X 10.7? </p><br /></div><hr /><div class="comment"><b>Posted by <span class="comment_by">fdb</span> on <i class="date">Jul 12, 2011</i></b><p>Hi, <br /> <br />I've discovered this too, and I'll look into it next week. <br /> <br />Kind regards, <br /> <br />Frederik </p><br /></div><hr /><div class="comment"><b>Posted by <span class="comment_by">vv</span> on <i class="date">Jul 23, 2011</i></b><p>Hi, <br /> <br />Any luck with a Lion compatible distribution? <br /> <br />Thanks. <br /> <br />VV </p><br /></div><hr /><div class="comment"><b>Posted by <span class="comment_by">Salvatore</span> on <i class="date">Jul 25, 2011</i></b><p>What a bad news,  i hope there will be an issue <br /> <br />Regards </p><br /></div><hr /><div class="comment"><b>Posted by <span class="comment_by">Barton</span> on <i class="date">Jul 26, 2011</i></b><p>I know this is an open-source project and your work is likely more focused on the new version of NodeBox, but it would be great if this version could be fixed or some instructions on how to use the <a href="http://nodebox.net/code/index.php/Graph">http://nodebox.net/code/index.php/Graph</a>">Graph library in NodeBox 2 could be provided. I'm not able to continue work as a result of this bug. </p><br /></div><hr /><div class="comment"><b>Posted by <span class="comment_by">JulesLt</span> on <i class="date">Jul 26, 2011</i></b><p>Has anyone tried recompiling the source on 10.7? <br />(Don't have time to try this morning, but it could be that simple.  <br /> <br />Worst case, it's an issue with PyObjC rather than NodeBox. </p><br /></div><hr /><div class="comment"><b>Posted by <span class="comment_by">Salvatore</span> on <i class="date">Jul 26, 2011</i></b><p>I have tried to compile... <br /> <br />mac:nodebox didiosalvatore$ export CC=gcc-4.2  <br />mac:nodebox didiosalvatore$ python setup.py  build <br />running build <br />running build_ext <br />building 'cGeo' extension <br />gcc-4.2 -fno-strict-aliasing -fno-common -dynamic -arch ppc -arch i386 -g -O2 -DNDEBUG -g -O3 -I/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c nodebox/ext/cGeo.c -o build/temp.macosx-10.3-fat-2.7/nodebox/ext/cGeo.o <br />gcc-4.2: error trying to exec '/usr/bin/powerpc-apple-darwin11-gcc-4.2.1': execvp: No such file or directory <br />i686-apple-darwin11-gcc-4.2.1: nodebox/ext/cGeo.c: No such file or directory <br />i686-apple-darwin11-gcc-4.2.1: no input files <br />lipo: can't figure out the architecture type of: /var/folders/r8/f5d4mjv15jv8lgqp2n67qfww0000gn/T//cck5QYCL.out <br />error: command 'gcc-4.2' failed with exit status 255 </p><br /></div><hr /><div class="comment"><b>Posted by <span class="comment_by">pBiVrfeRynFv</span> on <i class="date">Jul 29, 2011</i></b><p>If you want to get read, this is how you shulod write. </p><br /></div><hr /><div class="comment"><b>Posted by <span class="comment_by">fdb</span> on <i class="date">Jul 29, 2011</i></b><p>Hi, <br /> <br />I've created a version for Mac OS X Lion: <br /> <br /><a href="http://nodebox.net/download/NodeBox">http://nodebox.net/download/NodeBox</a>-1.9.7rc1.zip <br /> <br />Could you test this one and tell me if it works? I'm not sure if it also works on Leopard / Snow Leopard. <br /> <br />There are only minor new features: ellipse() is no an alias for oval(), and there is support for line cap style and line join style. <br /> <br />The source has moved to GitHub: <br /> <br /><a href="https://github.com/nodebox/nodebox">https://github.com/nodebox/nodebox</a>-pyobjc <br /> <br />If you have Xcode (I use 4.1 on Lion) you can build it yourself; it should build without any problems. <br /> <br />Let me know if it works for you! <br /> <br />Grtz, <br /> <br />Frederik </p></div><br /><hr /><div class="comment"><b>Posted by <span class="comment_by">Salvatore</span> on <i class="date">Jul 29, 2011</i></b><p>Thank you very much Frederik you are great :-) <br />It works on OSX Lion <br /> <br />Regards <br /> <br />Salvatore </p><br /></div><hr /><div class="comment"><b>Posted by <span class="comment_by">Barton</span> on <i class="date">Aug 01, 2011</i></b><p>I confirm it works for me too. I was also able to compile on my local machine. Thanks a lot for taking the time to do this. </p><br /></div><hr /><hr /><div class='comment'><strong>Posted by <span class="comment_by">Jens Alfke</span> on <em class="date">Sep 05, 2011</em></strong><p>1.9.7rc1 also crashes for me on Lion (10.7.1), unfortunately. The crash log says:
<br>
<br>*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: '/Users/fdb/Dropbox/Projects/nodebox-pyobjc/main.m:36 main() PyRun_SimpleFile failed with file '/Volumes/HardDisk/Code/Others/NodeBox/NodeBox.app/Contents/Resources/macboot.py'.  See console for errors.'
<br>
<br>The relevant console output is:
<br>
<br>9/5/11 12:51:06.019 PM [0x0-0xd80d8].net.nodebox.NodeBox: Traceback (most recent call last):
<br>9/5/11 12:51:06.019 PM [0x0-0xd80d8].net.nodebox.NodeBox:   File "macboot.py", line 6, in 
<br>9/5/11 12:51:06.019 PM [0x0-0xd80d8].net.nodebox.NodeBox:     import objc
<br>9/5/11 12:51:06.019 PM [0x0-0xd80d8].net.nodebox.NodeBox: ImportError: No module named objc
<br>
<br>Rather weird — not being able to find the objc module seems like kind of a showstopper and I can't imagine why it's only happening to me. I know Python and I know Objective-C but I've never tried to use them together, so I'm not sure how to troubleshoot this. Any ideas? </b></i></a></ul></li></pre></p><br /></div><hr /><div class='comment'><strong>Posted by <span class="comment_by">Jens Alfke</span> on <em class="date">Sep 05, 2011</em></strong><p>Even weirder, I checked out the nodebox-pyobjc git repository and built the app, and that runs fine.
<br>
<br>(Current HEAD is 059b9176, "Graphics view responds to mouse wheel scrolling".) </b></i></a></ul></li></pre></p><br /></div><? include("util/comment.php"); ?>
</div>
  
</div>

<div id="footer">
Last modified: May 29 2012 | &copy; 2004-2012 <a href="http://www.emrg.be/" class="noexternal">Experimental Media Research Group</a>
</div>
<img src="../g/footer.jpg" style="border:0" class="footer" width="800" height="334" />

</div>

<script>
try{e=document.getElementsByTagName("span");for(i=0;i<e.length;i++){if(e[i].className=="header_image"){src=e[i].getElementsByTagName("img")[0].src;document.getElementById("header_image").src=src;break;}}}catch(e){}
</script>
</body>

</html>